<div class="container-fluid p-3">
  <div class="row">
  <div class="mt-3 pb-3">
    <span class="head">Create New User</span>
    <button
      mat-raised-button
      color="Basic"
      class="font-17 float-right btn-xs-block btn-info"
      [routerLink]="['/wrapper/user']"
      style="margin-left: 8px;color: #3CA7C5;"
    >
      Cancel
    </button>
    <button
      mat-raised-button
      color="primary"
      class="font-17 float-right btn-xs-block btn-info btn-col"
      (click)="addUser()"
      *ngIf="this.isEdit == false"
    >
      Create</button
    >&nbsp;
    <button
      mat-raised-button
      color="primary"
      class="font-17 float-right btn-xs-block btn-info btn-col"
      (click)="updateUser()"
      *ngIf="this.isEdit == true"
    >
      Update</button
    >&nbsp;
  </div>
  <form [formGroup]="userForm">
    <mat-card class="border rounded ml-1">
      <div class="row">
        <div class="col-sm-6 col-md-4 col-lg-4">
          <mat-form-field appearance="outline">
            <mat-label>User Name</mat-label>
            <input matInput type="text" #name formControlName="name"  autocomplete="off" minlength="1"
            maxlength="75" 
            pattern='^(?!\.)(?!.*?\.\.)[a-zA-Z.\s]*$' required 
            (blur)="trim($event.target)">
            <mat-error *ngIf="userForm.get('name')?.hasError('required')">Please enter a valid user name.</mat-error>
            <mat-error *ngIf="userForm.get('name')?.hasError('pattern')" >Please enter only characters.</mat-error>
            <mat-hint align="end">{{name.value.length}} / 75</mat-hint>
          </mat-form-field>
        </div>
        <div class="col-sm-6 col-md-4 col-lg-4">
          <mat-form-field appearance="outline">
            <mat-label>Email</mat-label>
            <input  formControlName="email"  matInput type="email" autocomplete="off" 
            ngModel [email]="true" 
            maxlength="40" 
            name="email"
            #email
            (blur)="trimEmail($event.target)"
            email required pattern='^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$'/>
            <mat-error>Please enter a valid email id.</mat-error>
            <mat-hint align="end">{{email.value.length}} / 40</mat-hint>
          </mat-form-field>
        </div>

        <div class="col-sm-6 col-md-4 col-lg-4"  style="padding-left: 3%; margin-top: 1%">
          <label class="heading-text">Status: &nbsp;</label>
          <mat-slide-toggle formControlName="status" #myToggle value="primary"> 
            <!-- {{myToggle.checked ? "Active" : "Inactive"}} -->
          </mat-slide-toggle>
        </div>
      </div>
    </mat-card>
  
  </form>
  <div class="col-md-2" style="padding-left: 44% !important;">    
    <!-- <div *ngIf="isCall">
    <mat-progress-spinner mode="indeterminate"></mat-progress-spinner>   
  </div> -->
  </div>
</div>

</div>